# 垃圾回收

[toc]

#### 为什么要学习垃圾回收？

- 解决问题

    1.排查内存溢出    
    2.排查内存泄漏    
    3.性能调优，排查并发瓶颈
    
- 面试装逼

#### 什么是GC

GC是垃圾收集器,可以自动进行行内存管理。要请求垃圾收集的方法：

System.gc()  

Runtime.getRuntime().gc()  

#### 垃圾回收的区域

主要是堆和方法区

#### 什么条件会触发垃圾回收

对象没有引用

#### 怎么判断对象是否有引用

**可达性分析法：**

通过选取一些根对象作为起始点，开始向下搜索，搜索不到的对象就认为是没有被引用，是可以被回收的。

**可以作为根的对象有：**

- 栈中变量引用的对象
- 类静态属性引用的对象
- 常量引用的对象等

因为每个线程都有一个栈，所以我们需要选取多个根对象。


#### java的四种引用

强软弱虚

强：代表什么时候都不会被回收的引用

软引用：只要内存不够就会被回收的引用

弱：只要内存足够就会被引用的对象

虚：随时可以能会被回收的引用
